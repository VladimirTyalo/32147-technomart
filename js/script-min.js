var catalogBuyButtons=document.querySelectorAll(".catalog .product-post__button-by"),indexBuyButtons=document.querySelectorAll(".index .product-post__button-by"),cartNotification=document.querySelector(".cart-notification"),cartNotificationClose=document.querySelector(".cart-notification .icon-close"),cartItemsAmount=document.querySelector(".top-header__cart .top-header__amount"),btnWriteUs=document.querySelector(".index-button--delivery-map"),topHeaderCart=document.querySelector(".top-header__cart"),popUpFeedbackForm=document.querySelector(".feedback-form"),popUpFeedbackName=document.querySelector("[name=feedback-form__name]"),popUpFeedbackMail=document.querySelector("[name=feedback-form__mail]"),popUpFeedbackText=document.querySelector("[name=feedback-form__text]"),storageName=localStorage.getItem("storageName"),storageMail=localStorage.getItem("storageMail"),modalMap=document.querySelector(".modal-content-map"),mapLink=document.querySelector(".delivery-map__map-area"),popUpFeedbackClose=document.querySelector(".feedback-form .icon-close");window.addEventListener("keydown",function(e){27===e.keyCode&&(popUpFeedbackForm.classList.remove("modal-content-show"),popUpFeedbackForm.classList.remove("modal-error"),modalMap.classList.remove("modal-content-show"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&cartNotification.classList.remove("modal-content-show")});for(var i=0;i<catalogBuyButtons.length;i++)catalogBuyButtons[i].addEventListener("click",function(e){e.preventDefault(),cartNotification.classList.add("modal-content-show");var t=parseInt(cartItemsAmount.innerHTML);t+=1,cartItemsAmount.innerHTML=t+""});for(var i=0;i<indexBuyButtons.length;i++)indexBuyButtons[i].addEventListener("click",function(e){e.preventDefault(),cartNotification.classList.add("modal-content-show");var t=parseInt(cartItemsAmount.innerHTML);t+=1,cartItemsAmount.innerHTML=t+"",topHeaderCart.classList.add("top-header--active")});cartNotificationClose.addEventListener("click",function(e){e.preventDefault(),cartNotification.classList.remove("modal-content-show")}),cartNotificationClose.addEventListener("click",function(e){e.preventDefault(),cartNotification.classList.remove("modal-content-show")}),btnWriteUs.addEventListener("click",function(e){e.preventDefault(),popUpFeedbackForm.classList.add("modal-content-show"),popUpFeedbackName.focus(),storageName&&(popUpFeedbackName.value=storageName,popUpFeedbackMail.focus()),storageMail&&(popUpFeedbackMail.value=storageMail,popUpFeedbackText.focus())}),popUpFeedbackClose.addEventListener("click",function(e){e.preventDefault(),popUpFeedbackForm.classList.remove("modal-content-show"),popUpFeedbackForm.classList.remove("modal-error")}),popUpFeedbackForm.addEventListener("submit",function(e){if(popUpFeedbackForm.classList.remove("modal-error"),popUpFeedbackForm.offsetHeight,popUpFeedbackName.value&&popUpFeedbackMail.value)popUpFeedbackForm.submit();else{if(e.preventDefault(),popUpFeedbackForm.classList.add("modal-error"),popUpFeedbackName.value){var t=popUpFeedbackName.value;localStorage.setItem("storageName",t)}else popUpFeedbackName.style.background="rgba(255,0,0,0.3)";if(popUpFeedbackMail.value){var o=popUpFeedbackMail.value;localStorage.setItem("storageMail",o)}else popUpFeedbackMail.style.background="rgba(255,0,0,0.3)"}}),popUpFeedbackName.addEventListener("focus",function(){popUpFeedbackName.style.background="#ffffff"}),popUpFeedbackMail.addEventListener("focus",function(){popUpFeedbackMail.style.background="#ffffff"}),popUpFeedbackText.addEventListener("focus",function(){popUpFeedbackText.style.background="#ffffff"}),mapLink.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.add("modal-content-show"),popUpFeedbackForm.offsetHeight});var mapClose=document.querySelector(".modal-content-map .icon-close");mapClose.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.remove("modal-content-show")});
